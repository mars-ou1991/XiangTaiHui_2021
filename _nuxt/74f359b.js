(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{252:function(t,e,n){"use strict";var r=n(12),o=n(2),l=n(92),c=n(17),f=n(13),d=n(45),v=n(191),h=n(68),m=n(190),y=n(5),w=n(57),_=n(69).f,N=n(36).f,C=n(16).f,I=n(192).trim,x="Number",E=o.Number,k=E.prototype,A=d(w(k))==x,S=function(t){if(h(t))throw TypeError("Cannot convert a Symbol value to a number");var e,n,r,o,l,c,f,code,d=m(t,"number");if("string"==typeof d&&d.length>2)if(43===(e=(d=I(d)).charCodeAt(0))||45===e){if(88===(n=d.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+d}for(c=(l=d.slice(2)).length,f=0;f<c;f++)if((code=l.charCodeAt(f))<48||code>o)return NaN;return parseInt(l,r)}return+d};if(l(x,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var T,O=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof O&&(A?y((function(){k.valueOf.call(n)})):d(n)!=x)?v(new E(S(e)),n,O):S(e)},R=r?_(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),P=0;R.length>P;P++)f(E,T=R[P])&&!f(O,T)&&C(O,T,N(E,T));O.prototype=k,k.constructor=O,c(o,x,O)}},253:function(t,e,n){"use strict";n.r(e);var r=n(6),o=n(70),l=(n(34),n(252),n(40),n(18),n(46),n(58),n(193),n(93),n(35),{name:"Posts",props:{postType:{type:String,default:"news"},amount:{type:Number,default:10,validator:function(t){return t>=0&&t<100}},sortBy:{type:Object,default:function(){return{key:"createdAt",direction:"desc"}},validator:function(t){return"string"==typeof t.key&&"string"==typeof t.direction}}},data:function(){return{posts:[],loading:!0,types:[{label:"封面故事",value:"coverStory"},{label:"头条新闻",value:"topNews"},{label:"活动报道",value:"eventNews"},{label:"媒体报道",value:"news"},{label:"湖南",value:"hunan"},{label:"湖北",value:"hubei"},{label:"江西",value:"jiangxi"},{label:"广西",value:"guangxi"},{label:"四川",value:"sichuan"}]}},computed:{placeholderClasses:function(){var t=["w-full","w-2/3","w-5/6"];return Object(o.a)(Array.from({length:this.amount},(function(e,i){return t[i%t.length]})))}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),r=n.exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}("type"),t.loading=!0,e.next=5,t.fetchPosts();case 5:t.posts=e.sent,n&&(t.posts=t.posts.filter((function(t){return t.category===n}))),t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()},methods:{grtCategory:function(t){var e;return null===(e=this.types.filter((function(e){return e.value===t}))[0])||void 0===e?void 0:e.label},formatDate:function(t){return new Date(t).toLocaleDateString("zh")||""},fetchPosts:function(){var t=arguments,e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:e.postType,o=t.length>1&&void 0!==t[1]?t[1]:e.amount,l=t.length>2&&void 0!==t[2]?t[2]:e.sortBy,n.abrupt("return",e.$content(r).sortBy(l.key,l.direction).limit(o).fetch().catch((function(t){return console.error(t)||[]})));case 4:case"end":return n.stop()}}),n)})))()}}}),c=n(15),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.posts.length>0?n("ul",{staticClass:"cards"},t._l(t.posts,(function(e,r){return n("li",{key:r},[n("nuxt-link",{staticClass:"card card--clickable",attrs:{to:t.postType+"/"+e.slug}},[[n("span",{staticClass:"flex-1"},[n("h6",{staticClass:"inline-block py-1 px-2 mr-1 bg-gray text-white text-sm font-medium rounded-sm"},[t._v("\n            "+t._s(t.grtCategory(e.category))+"\n          ")]),t._v(" "),n("h3",{staticClass:"card-title"},[t._v(t._s(e.title))]),t._v(" "),n("p",{staticClass:"mt-2"},[t._v(t._s(e.description))])]),t._v(" "),e.cover?n("img",{staticClass:"cover-image",attrs:{src:e.cover}}):t._e()],t._v(" "),t._e()],2)],1)})),0):t.loading?n("div",{staticClass:"cards"},t._l(t.placeholderClasses,(function(t){return n("div",{key:t.id,staticClass:"card"},[n("content-placeholders",{class:t,attrs:{rounded:!0}},[n("content-placeholders-heading")],1)],1)})),0):n("p",{staticClass:"max-w-5xl mx-auto"},[t._v("\n  "+t._s(t.amount>1?"Posts not found":"Post not found")+"\n")])}),[],!1,null,null,null);e.default=component.exports}}]);