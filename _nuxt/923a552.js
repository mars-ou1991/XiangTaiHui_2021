(window.webpackJsonp=window.webpackJsonp||[]).push([[27,12],{252:function(t,e,r){"use strict";var n=r(12),o=r(2),c=r(92),l=r(17),f=r(13),d=r(45),v=r(191),h=r(68),m=r(190),y=r(5),_=r(57),w=r(69).f,x=r(36).f,C=r(16).f,N=r(192).trim,I="Number",k=o.Number,E=k.prototype,A=d(_(E))==I,j=function(t){if(h(t))throw TypeError("Cannot convert a Symbol value to a number");var e,r,n,o,c,l,f,code,d=m(t,"number");if("string"==typeof d&&d.length>2)if(43===(e=(d=N(d)).charCodeAt(0))||45===e){if(88===(r=d.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+d}for(l=(c=d.slice(2)).length,f=0;f<l;f++)if((code=c.charCodeAt(f))<48||code>o)return NaN;return parseInt(c,n)}return+d};if(c(I,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var O,P=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof P&&(A?y((function(){E.valueOf.call(r)})):d(r)!=I)?v(new k(j(e)),r,P):j(e)},R=n?w(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;R.length>S;S++)f(k,O=R[S])&&!f(P,O)&&C(P,O,x(k,O));P.prototype=E,E.constructor=P,l(o,I,P)}},253:function(t,e,r){"use strict";r.r(e);var n=r(6),o=r(70),c=(r(34),r(252),r(40),r(18),r(46),r(58),r(193),r(93),r(35),{name:"Posts",props:{postType:{type:String,default:"news"},amount:{type:Number,default:80,validator:function(t){return t>=0&&t<100}},sortBy:{type:Object,default:function(){return{key:"createdAt",direction:"desc"}},validator:function(t){return"string"==typeof t.key&&"string"==typeof t.direction}}},data:function(){return{posts:[],loading:!0,types:[{label:"封面故事",value:"coverStory"},{label:"头条新闻",value:"topNews"},{label:"活动报道",value:"eventNews"},{label:"媒体报道",value:"news"},{label:"湖南",value:"hunan"},{label:"湖北",value:"hubei"},{label:"江西",value:"jiangxi"},{label:"广西",value:"guangxi"},{label:"四川",value:"sichuan"}]}},computed:{placeholderClasses:function(){var t=["w-full","w-2/3","w-5/6"];return Object(o.a)(Array.from({length:this.amount},(function(e,i){return t[i%t.length]})))}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;t=t.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),n=r.exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("type"),t.loading=!0,e.next=5,t.fetchPosts();case 5:t.posts=e.sent,console.log(t.posts),r&&(t.posts=t.posts.filter((function(t){return t.category===r}))),t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},methods:{grtCategory:function(t){var e;return null===(e=this.types.filter((function(e){return e.value===t}))[0])||void 0===e?void 0:e.label},formatDate:function(t){return new Date(t).toLocaleDateString("zh")||""},fetchPosts:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:e.postType,t.length>1&&void 0!==t[1]?t[1]:e.amount,o=t.length>2&&void 0!==t[2]?t[2]:e.sortBy,r.abrupt("return",e.$content(n).sortBy(o.key,o.direction).fetch().catch((function(t){return console.error(t)||[]})));case 4:case"end":return r.stop()}}),r)})))()}}}),l=r(15),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.posts.length>0?r("ul",{staticClass:"cards"},t._l(t.posts,(function(e,n){return r("li",{key:n},[r("nuxt-link",{staticClass:"card card--clickable",attrs:{to:t.postType+"/"+e.slug}},[[r("span",{staticClass:"flex-1"},[t.grtCategory(e.category)?r("h6",{staticClass:"inline-block px-2 py-1 mr-1 text-sm font-medium text-white rounded-sm bg-gray"},[t._v("\n            "+t._s(t.grtCategory(e.category))+"\n          ")]):t._e(),t._v(" "),r("h3",{staticClass:"card-title"},[t._v(t._s(e.title))]),t._v(" "),r("p",{staticClass:"mt-2"},[t._v(t._s(e.description))])]),t._v(" "),e.cover?r("img",{staticClass:"cover-image",attrs:{src:e.cover}}):t._e()],t._v(" "),t._e()],2)],1)})),0):t.loading?r("div",{staticClass:"cards"},t._l(t.placeholderClasses,(function(t){return r("div",{key:t.id,staticClass:"card"},[r("content-placeholders",{class:t,attrs:{rounded:!0}},[r("content-placeholders-heading")],1)],1)})),0):r("p",{staticClass:"max-w-5xl mx-auto"},[t._v("\n  "+t._s(t.amount>1?"Posts not found":"Post not found")+"\n")])}),[],!1,null,null,null);e.default=component.exports},313:function(t,e,r){"use strict";r.r(e);var n=r(6),o=(r(34),{asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$content,n=t.error,e.prev=1,e.next=4,r("projects").fetch();case 4:o=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n({message:"Projects not found"});case 10:return e.abrupt("return",{posts:o});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}),c=r(15),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",[t.posts?r("section",{staticClass:"w-full max-w-5xl mx-auto"},[r("h1",{staticClass:"title"},[t._v("Projects")]),t._v(" "),r("posts",{attrs:{"post-type":"projects",amount:10}})],1):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Posts:r(253).default})}}]);