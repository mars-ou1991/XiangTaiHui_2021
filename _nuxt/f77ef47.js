(window.webpackJsonp=window.webpackJsonp||[]).push([[31,10],{252:function(t,e,n){"use strict";var r=n(12),o=n(2),c=n(92),l=n(17),f=n(13),d=n(45),v=n(191),h=n(68),m=n(190),y=n(5),_=n(57),w=n(69).f,x=n(36).f,C=n(16).f,N=n(192).trim,I="Number",k=o.Number,E=k.prototype,A=d(_(E))==I,O=function(t){if(h(t))throw TypeError("Cannot convert a Symbol value to a number");var e,n,r,o,c,l,f,code,d=m(t,"number");if("string"==typeof d&&d.length>2)if(43===(e=(d=N(d)).charCodeAt(0))||45===e){if(88===(n=d.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+d}for(l=(c=d.slice(2)).length,f=0;f<l;f++)if((code=c.charCodeAt(f))<48||code>o)return NaN;return parseInt(c,r)}return+d};if(c(I,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var R,S=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof S&&(A?y((function(){E.valueOf.call(n)})):d(n)!=I)?v(new k(O(e)),n,S):O(e)},T=r?w(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),j=0;T.length>j;j++)f(k,R=T[j])&&!f(S,R)&&C(S,R,x(k,R));S.prototype=E,E.constructor=S,l(o,I,S)}},253:function(t,e,n){"use strict";n.r(e);var r=n(6),o=n(70),c=(n(34),n(252),n(40),n(18),n(46),n(58),n(193),n(93),n(35),{name:"Posts",props:{postType:{type:String,default:"news"},amount:{type:Number,default:80,validator:function(t){return t>=0&&t<100}},sortBy:{type:Object,default:function(){return{key:"createdAt",direction:"desc"}},validator:function(t){return"string"==typeof t.key&&"string"==typeof t.direction}}},data:function(){return{posts:[],loading:!0,types:[{label:"封面故事",value:"coverStory"},{label:"头条新闻",value:"topNews"},{label:"活动报道",value:"eventNews"},{label:"媒体报道",value:"news"},{label:"湖南",value:"hunan"},{label:"湖北",value:"hubei"},{label:"江西",value:"jiangxi"},{label:"广西",value:"guangxi"},{label:"四川",value:"sichuan"}]}},computed:{placeholderClasses:function(){var t=["w-full","w-2/3","w-5/6"];return Object(o.a)(Array.from({length:this.amount},(function(e,i){return t[i%t.length]})))}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),r=n.exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}("type"),t.loading=!0,e.next=5,t.fetchPosts();case 5:t.posts=e.sent,console.log(t.posts),n&&(t.posts=t.posts.filter((function(t){return t.category===n}))),t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},methods:{grtCategory:function(t){var e;return null===(e=this.types.filter((function(e){return e.value===t}))[0])||void 0===e?void 0:e.label},formatDate:function(t){return new Date(t).toLocaleDateString("zh")||""},fetchPosts:function(){var t=arguments,e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:e.postType,t.length>1&&void 0!==t[1]?t[1]:e.amount,o=t.length>2&&void 0!==t[2]?t[2]:e.sortBy,n.abrupt("return",e.$content(r).sortBy(o.key,o.direction).fetch().catch((function(t){return console.error(t)||[]})));case 4:case"end":return n.stop()}}),n)})))()}}}),l=n(15),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.posts.length>0?n("ul",{staticClass:"cards"},t._l(t.posts,(function(e,r){return n("li",{key:r},[n("nuxt-link",{staticClass:"card card--clickable",attrs:{to:t.postType+"/"+e.slug}},[[n("span",{staticClass:"flex-1"},[t.grtCategory(e.category)?n("h6",{staticClass:"inline-block px-2 py-1 mr-1 text-sm font-medium text-white rounded-sm bg-gray"},[t._v("\n            "+t._s(t.grtCategory(e.category))+"\n          ")]):t._e(),t._v(" "),n("h3",{staticClass:"card-title"},[t._v(t._s(e.title))]),t._v(" "),n("p",{staticClass:"mt-2"},[t._v(t._s(e.description))])]),t._v(" "),e.cover?n("img",{staticClass:"cover-image",attrs:{src:e.cover}}):t._e()],t._v(" "),t._e()],2)],1)})),0):t.loading?n("div",{staticClass:"cards"},t._l(t.placeholderClasses,(function(t){return n("div",{key:t.id,staticClass:"card"},[n("content-placeholders",{class:t,attrs:{rounded:!0}},[n("content-placeholders-heading")],1)],1)})),0):n("p",{staticClass:"max-w-5xl mx-auto"},[t._v("\n  "+t._s(t.amount>1?"Posts not found":"Post not found")+"\n")])}),[],!1,null,null,null);e.default=component.exports},313:function(t,e,n){"use strict";n.r(e);var r=n(6),o=(n(34),{asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$content,r=t.error,e.prev=1,e.next=4,n("yuelu-history").fetch();case 4:o=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r({message:"Blog posts not found"});case 10:return e.abrupt("return",{posts:o});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}),c=n(15),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[t.posts?n("section",{staticClass:"w-full max-w-5xl mx-auto"},[n("h1",{staticClass:"title"},[t._v("岳麓山文史")]),t._v(" "),n("posts",{attrs:{"post-type":"yuelu-history",amount:10}})],1):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Posts:n(253).default})}}]);